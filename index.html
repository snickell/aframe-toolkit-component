<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <title>A-DREEM</title>
  <meta http-equiv="cache-control" content="no-cache" />
  <meta http-equiv="pragma" content="no-cache" />
  
<script type="text/javascript">
    window.defineDreem = {
	   $platform:"webgl",
      paths:{"system":1,"resources":1,"3d":1,"behaviors":1,"server":1,"ui":1,"flow":1,"testing":1,"widgets":1,"sensors":1,"iot":1,"examples":1,"apps":1,"docs":1,"test":1},
     $system:"$root/system",
		$resources:"$root/resources",
		$3d:"$root/3d",
		$behaviors:"$root/behaviors",
		$server:"$root/server",
		$ui:"$root/ui",
		$flow:"$root/flow",
		$testing:"$root/testing",
		$widgets:"$root/widgets",
		$sensors:"$root/sensors",
		$iot:"$root/iot",
		$examples:"$root/examples",
		$apps:"$root/apps",
		$docs:"$root/docs",
    $atoolkit: "$root/a-toolkit",
		$test:"$root/test",
      main:["$system/base/math", "$examples/buttons.js", "$atoolkit/a-button.js"],
      atMain:function(requireDreem, modules){
        setTimeout(function () {
          defineDreem.endLoader()
          requireDreem(modules[0])
          var AButton = requireDreem(modules[1])
          var serverattrs = {}
          var renderTarget;
          //           defineDreem.rootComposition = new Composition(defineDreem.rootComposition, undefined, serverattrs, renderTarget)

          console.log(defineDreem.rootComposition);

          defineDreem.rootComposition = new AButton(defineDreem.rootComposition, undefined, serverattrs, renderTarget)
          //console.log("window.aButton = ", aButton)          
        }, 0);
        
      },
	   atEnd:function(){
       defineDreem.startLoader()
      }
    }
  </script>  
  
  <script src="dist/dreemgl.js"></script>

</head>

<body style="margin:0;">

  <a-scene id="scene">
      <a-box position="-1 0.5 -3" rotation="0 45 0" color="#4CC3D9"></a-box>
      <a-sphere position="0 1.25 -5" radius="1.25" color="#EF2D5E"></a-sphere>
      <a-cylinder position="1 0.75 -3" radius="0.5" height="1.5" color="#FFC65D"></a-cylinder>
      <a-plane position="0 0 -4" rotation="-90 0 0" width="4" height="4" color="#7BC8A4"></a-plane>

    <a-entity id="left-hand" paint-controls laser-controls="hand: left"></a-entity>
    <a-entity id="right-hand" paint-controls laser-controls="hand: right"></a-entity>
  </a-scene>

  <script>//needed to delay evaluation until page load *sigh*</script>
</body>

</html>