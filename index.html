<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <title>A-DREEM</title>
  <meta http-equiv="cache-control" content="no-cache" />
  <meta http-equiv="pragma" content="no-cache" />
  
<script type="text/javascript">
    window.defineDreem = {
	   $platform:"webgl",
      paths:{"system":1,"resources":1,"3d":1,"behaviors":1,"server":1,"ui":1,"flow":1,"testing":1,"widgets":1,"sensors":1,"iot":1,"examples":1,"apps":1,"docs":1,"test":1},
     $system:"$root/system",
		$resources:"$root/resources",
		$3d:"$root/3d",
		$behaviors:"$root/behaviors",
		$server:"$root/server",
		$ui:"$root/ui",
		$flow:"$root/flow",
		$testing:"$root/testing",
		$widgets:"$root/widgets",
		$sensors:"$root/sensors",
		$iot:"$root/iot",
		$examples:"$root/examples",
		$apps:"$root/apps",
		$docs:"$root/docs",
		$test:"$root/test",
      main:["$system/base/math", "$examples/buttons.js"],
      atMain:function(requireDreem, modules){
        setTimeout(function () {
          defineDreem.endLoader()
          requireDreem(modules[0])
          var Composition = requireDreem(modules[1])
          var serverattrs = {}
          var renderTarget;
          defineDreem.rootComposition = new Composition(defineDreem.rootComposition, undefined, serverattrs, renderTarget)
          console.log("atEndOfMain", defineDreem.rootComposition, requireDreem); 
        }, 50);
        
      },
	   atEnd:function(){
       defineDreem.startLoader()
      }
    }
  </script>  
  
  <script src="dist/dreemgl.js"></script>

</head>

<body style="margin:0;">

  <a-scene id="scene">
    <a-plane position="0 0 -4" rotation="-90 0 0" width="4" height="4" color="#7BC8A4"></a-plane>
    <a-sky color="#ECECEC"></a-sky>
    <a-entity id="left-hand" paint-controls laser-controls="hand: left"></a-entity>
    <a-entity id="right-hand" paint-controls laser-controls="hand: right"></a-entity>
    <a-entity id="camera"  rotation="-45 0 0" camera look-controls></a-entity>
  </a-scene>

  <script>//needed to delay evaluation until page load *sigh*</script>
</body>

</html>